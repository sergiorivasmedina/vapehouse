{"ast":null,"code":"'use strict';\n\nvar PROMISE = 'Promise';\n\nvar IS_PURE = require('../internals/is-pure');\n\nvar global = require('../internals/global');\n\nvar $export = require('../internals/export');\n\nvar isObject = require('../internals/is-object');\n\nvar aFunction = require('../internals/a-function');\n\nvar anInstance = require('../internals/an-instance');\n\nvar classof = require('../internals/classof-raw');\n\nvar iterate = require('../internals/iterate');\n\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar task = require('../internals/task').set;\n\nvar microtask = require('../internals/microtask');\n\nvar promiseResolve = require('../internals/promise-resolve');\n\nvar hostReportErrors = require('../internals/host-report-errors');\n\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\n\nvar perform = require('../internals/perform');\n\nvar userAgent = require('../internals/user-agent');\n\nvar SPECIES = require('../internals/well-known-symbol')('species');\n\nvar InternalStateModule = require('../internals/internal-state');\n\nvar isForced = require('../internals/is-forced');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = global[PROMISE];\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = global.fetch;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper;\nvar FORCED = isForced(PROMISE, function () {\n  // correct subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n\n  var empty = function empty() {\n    /* empty */\n  };\n\n  var FakePromise = (promise.constructor = {})[SPECIES] = function (exec) {\n    exec(empty, empty);\n  }; // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n\n\n  return !((IS_NODE || typeof PromiseRejectionEvent == 'function') && (!IS_PURE || promise['finally']) && promise.then(empty) instanceof FakePromise // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // we can't detect it synchronously, so just check versions\n  && v8.indexOf('6.6') !== 0 && userAgent.indexOf('Chrome/66') === -1);\n});\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () {\n    /* empty */\n  });\n}); // helpers\n\nvar isThenable = function isThenable(it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function notify(promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var i = 0;\n\n    var run = function run(reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n\n          if (handler === true) result = value;else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    };\n\n    while (chain.length > i) {\n      run(chain[i++]);\n    } // variable length - can't use forEach\n\n\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function dispatchEvent(name, promise, reason) {\n  var event, handler;\n\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = {\n    promise: promise,\n    reason: reason\n  };\n\n  if (handler = global['on' + name]) handler(event);else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function onUnhandled(promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      }); // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function isUnhandled(state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function onHandleUnhandled(promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function bind(fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function internalReject(promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function internalResolve(promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n\n    if (then) {\n      microtask(function () {\n        var wrapper = {\n          done: false\n        };\n\n        try {\n          then.call(value, bind(internalResolve, promise, wrapper, state), bind(internalReject, promise, wrapper, state));\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, {\n      done: false\n    }, error, state);\n  }\n}; // constructor polyfill\n\n\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  }; // eslint-disable-next-line no-unused-vars\n\n\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n\n  Internal.prototype = require('../internals/redefine-all')(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function _catch(onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n\n  OwnPromiseCapability = function OwnPromiseCapability() {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n\n  newPromiseCapabilityModule.f = newPromiseCapability = function newPromiseCapability(C) {\n    return C === PromiseConstructor || C === PromiseWrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n  }; // wrap fetch result\n\n\n  if (!IS_PURE && typeof $fetch == 'function') $export({\n    global: true,\n    enumerable: true,\n    forced: true\n  }, {\n    // eslint-disable-next-line no-unused-vars\n    fetch: function fetch(input) {\n      return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n    }\n  });\n}\n\n$export({\n  global: true,\n  wrap: true,\n  forced: FORCED\n}, {\n  Promise: PromiseConstructor\n});\n\nrequire('../internals/set-to-string-tag')(PromiseConstructor, PROMISE, false, true);\n\nrequire('../internals/set-species')(PROMISE);\n\nPromiseWrapper = require('../internals/path')[PROMISE]; // statics\n\n$export({\n  target: PROMISE,\n  stat: true,\n  forced: FORCED\n}, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n$export({\n  target: PROMISE,\n  stat: true,\n  forced: IS_PURE || FORCED\n}, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n$export({\n  target: PROMISE,\n  stat: true,\n  forced: INCORRECT_ITERATION\n}, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      iterate(iterable, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});","map":{"version":3,"sources":["/home/sergio/Documentos/react-templates/vapehouse/admin/node_modules/react-app-polyfill/node_modules/core-js/modules/es.promise.js"],"names":["PROMISE","IS_PURE","require","global","$export","isObject","aFunction","anInstance","classof","iterate","checkCorrectnessOfIteration","speciesConstructor","task","set","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","userAgent","SPECIES","InternalStateModule","isForced","getInternalState","get","setInternalState","getInternalPromiseState","getterFor","PromiseConstructor","TypeError","document","process","$fetch","fetch","versions","v8","newPromiseCapability","f","newGenericPromiseCapability","IS_NODE","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","Internal","OwnPromiseCapability","PromiseWrapper","FORCED","promise","resolve","empty","FakePromise","constructor","exec","PromiseRejectionEvent","then","indexOf","INCORRECT_ITERATION","iterable","all","isThenable","it","notify","state","isReject","notified","chain","reactions","value","ok","i","run","reaction","handler","fail","reject","domain","result","exited","rejection","onHandleUnhandled","enter","exit","call","error","length","onUnhandled","name","reason","event","initEvent","IS_UNHANDLED","isUnhandled","emit","parent","bind","fn","unwrap","internalReject","done","internalResolve","wrapper","Promise","executor","type","undefined","prototype","onFulfilled","onRejected","push","C","enumerable","forced","input","apply","arguments","wrap","target","stat","r","capability","x","values","counter","remaining","index","alreadyCalled","race"],"mappings":"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","sourcesContent":["'use strict';\nvar PROMISE = 'Promise';\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar $export = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar userAgent = require('../internals/user-agent');\nvar SPECIES = require('../internals/well-known-symbol')('species');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = global[PROMISE];\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = global.fetch;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper;\n\nvar FORCED = isForced(PROMISE, function () {\n  // correct subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var empty = function () { /* empty */ };\n  var FakePromise = (promise.constructor = {})[SPECIES] = function (exec) {\n    exec(empty, empty);\n  };\n  // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !((IS_NODE || typeof PromiseRejectionEvent == 'function')\n    && (!IS_PURE || promise['finally'])\n    && promise.then(empty) instanceof FakePromise\n    // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // we can't detect it synchronously, so just check versions\n    && v8.indexOf('6.6') !== 0\n    && userAgent.indexOf('Chrome/66') === -1);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = require('../internals/redefine-all')(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  // wrap fetch result\n  if (!IS_PURE && typeof $fetch == 'function') $export({ global: true, enumerable: true, forced: true }, {\n    // eslint-disable-next-line no-unused-vars\n    fetch: function fetch(input) {\n      return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n    }\n  });\n}\n\n$export({ global: true, wrap: true, forced: FORCED }, { Promise: PromiseConstructor });\n\nrequire('../internals/set-to-string-tag')(PromiseConstructor, PROMISE, false, true);\nrequire('../internals/set-species')(PROMISE);\n\nPromiseWrapper = require('../internals/path')[PROMISE];\n\n// statics\n$export({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$export({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$export({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      iterate(iterable, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n"]},"metadata":{},"sourceType":"script"}